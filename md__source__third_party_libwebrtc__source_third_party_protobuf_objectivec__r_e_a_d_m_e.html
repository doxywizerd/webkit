<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>webkit: Protocol Buffers - Google&#39;s data interchange format</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">webkit
   &#160;<span id="projectnumber">2cdf99a9e3038c7e01b3c37e8ad903ecbe5eecf1</span>
   </div>
   <div id="projectbrief">https://github.com/WebKit/webkit</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Protocol Buffers - <a class="el" href="namespace_google.html">Google</a>'s data interchange format </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a href="https://travis-ci.org/google/protobuf"></a></p>
<p>Copyright 2008 <a class="el" href="namespace_google.html">Google</a> Inc.</p>
<p>This directory contains the Objective <a class="el" href="class_c.html">C</a> Protocol Buffers runtime library.</p>
<h2>Requirements </h2>
<p><a class="el" href="protocol_the-p.html">The</a> Objective <a class="el" href="class_c.html">C</a> implementation requires:</p>
<ul>
<li>Objective <a class="el" href="class_c.html">C</a> 2.0 Runtime (32bit &amp; 64bit iOS, 64bit OS X).</li>
<li>Xcode 7.0 (or later).</li>
<li><a class="el" href="protocol_the-p.html">The</a> library code does <em>not</em> use ARC (for performance reasons), but it all can be called from ARC code.</li>
</ul>
<h2>Installation </h2>
<p><a class="el" href="protocol_the-p.html">The</a> full distribution pulled from github includes the sources for both the compiler (protoc) and the runtime (this directory). To build the compiler and run the runtime tests, you can use: </p><pre class="fragment"> $ objectivec/DevTools/full_mac_build.sh
</pre><p>This will generate the <code>src/protoc</code> binary.</p>
<h2>Building </h2>
<p>There are two ways to include the Runtime sources in your project:</p>
<p>Add <code>objectivec/\*.h</code> &amp; <code>objectivec/GPBProtocolBuffers.m</code> to your project.</p>
<p><em>or</em></p>
<p>Add <code>objectivec/\*.h</code> &amp; <code>objectivec/\*.m</code> except for <code>objectivec/GPBProtocolBuffers.m</code> to your project.</p>
<p>If the target is using ARC, remember to turn off ARC (<code>-fno-objc-arc</code>) for the <code>.m</code> files.</p>
<p><a class="el" href="protocol_the-p.html">The</a> files generated by <code>protoc</code> for the <code>*.proto</code> files (`*.pbobjc.h' and <code>\*.pbobjc.m</code>) are then also added to the target.</p>
<h2>Usage </h2>
<p><a class="el" href="protocol_the-p.html">The</a> objects generated for messages should work like any other Objective <a class="el" href="class_c.html">C</a> object. They are mutable objects, but if you don't change them, they are safe to share between threads (similar to passing an NSMutableDictionary between threads/queues; as long as no one mutates it, things are fine).</p>
<p>There are a few behaviors worth calling out:</p>
<p><a class="el" href="struct_a.html">A</a> property that is type NSString* will never return nil. If the value is unset, it will return an empty string (""). This is inpart to align things with the Protocol Buffers spec which says the default for strings is an empty string, but also so you can always safely pass them to isEqual:/compare:, etc. and have deterministic results.</p>
<p><a class="el" href="struct_a.html">A</a> property that is type NSData* also won't return nil, it will return an empty data ([NSData data]). <a class="el" href="protocol_the-p.html">The</a> reasoning is the same as for NSString not returning nil.</p>
<p><a class="el" href="struct_a.html">A</a> property that is another <a class="el" href="interface_g_p_b_message.html" title="Base class for all of the generated message classes. ">GPBMessage</a> class also will not return nil. If the field wasn't already set, you will get a instance of the correct class. This instance will be a temporary instance unless you mutate it, at which point it will be attached to its parent object. We call this pattern <em>autocreators</em>. Similar to NSString and NSData properties it makes things a little safer when using them with isEqual:/etc.; but more importantly, this allows you to write code that uses Objective <a class="el" href="class_c.html">C</a>'s property dot notation to walk into nested objects and access and/or assign things without having to check that they are not nil and create them each step along the way. You can write this:</p>
<div class="fragment"><div class="line">- (void)updateRecord:(MyMessage *)msg {</div><div class="line">  ...</div><div class="line">  // Note: You don&#39;t have to check subMessage and otherMessage for nil and</div><div class="line">  // alloc/init/assign them back along the way.</div><div class="line">  msg.subMessage.otherMessage.lastName = @&quot;Smith&quot;;</div><div class="line">  ...</div><div class="line">}</div></div><!-- fragment --><p>If you want to check if a <a class="el" href="interface_g_p_b_message.html" title="Base class for all of the generated message classes. ">GPBMessage</a> property is present, there is always as <code>has\[NAME\]</code> property to go with the main property to check if it is set.</p>
<p><a class="el" href="struct_a.html">A</a> property that is of an Array or Dictionary type also provides <em>autocreator</em> behavior and will never return nil. This provides all the same benefits you see for the message properties. Again, you can write:</p>
<div class="fragment"><div class="line">- (void)updateRecord:(MyMessage *)msg {</div><div class="line">  ...</div><div class="line">  // Note: Just like above, you don&#39;t have to check subMessage and otherMessage</div><div class="line">  // for nil and alloc/init/assign them back along the way. You also don&#39;t have</div><div class="line">  // to create the siblingsArray, you can safely just append to it.</div><div class="line">  [msg.subMessage.otherMessage.siblingsArray addObject:@&quot;Pat&quot;];</div><div class="line">  ...</div><div class="line">}</div></div><!-- fragment --><p>If you are inspecting a message you got from some other place (server, disk, etc), you may want to check if the Array or Dictionary has entries without causing it to be created for you. For this, there is always a <code>\[NAME\]_Count</code> property also provided that can return zero or the real count, but won't trigger the creation.</p>
<p>For primitive type fields (ints, floats, bools, enum) in messages defined in a <code>.proto</code> file that use <em>proto2</em> syntax there are conceptual differences between having an <em>explicit</em> and <em>default</em> value. You can always get the value of the property. In the case that it hasn't been set you will get the default. In cases where you need to know whether it was set explicitly or you are just getting the default, you can use the <code>has\[NAME\]</code> property. If the value has been set, and you want to clear it, you can set the <code>has\[NAME\]</code> to <code>NO</code>. <em>proto3</em> syntax messages do away with this concept, thus the default values are never included when the message is encoded.</p>
<p><a class="el" href="protocol_the-p.html">The</a> Objective <a class="el" href="class_c.html">C</a> classes/enums can be used from Swift code.</p>
<h2>Objective <a class="el" href="class_c.html">C</a> <a class="el" href="class_generator.html">Generator</a> Options </h2>
<p><b>objc_class_prefix=&lt;prefix&gt;</b> (no default)</p>
<p>Since Objective <a class="el" href="class_c.html">C</a> uses a global namespace for all of its classes, there can be collisions. This option provides a prefix that will be added to the Enums and Objects (for messages) generated from the proto. Convention is to base the prefix on the package the proto is in.</p>
<h2>Contributing </h2>
<p>Please make updates to the tests along with changes. If just changing the runtime, the Xcode projects can be used to build and run tests. If your change also requires changes to the generated code, <code>objectivec/DevTools/full_mac_build.sh</code> can be used to easily rebuild and test changes. Passing <code>-h</code> to the script will show the addition options that could be useful.</p>
<h2>Documentation </h2>
<p><a class="el" href="protocol_the-p.html">The</a> complete documentation for Protocol Buffers is available via the web at: </p><pre class="fragment">https://developers.google.com/protocol-buffers/</pre> </div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
