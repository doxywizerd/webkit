<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>webkit: README</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">webkit
   &#160;<span id="projectnumber">2cdf99a9e3038c7e01b3c37e8ad903ecbe5eecf1</span>
   </div>
   <div id="projectbrief">https://github.com/WebKit/webkit</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">README </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><code>es5-shim.js</code> and <code>es5-shim.min.js</code> monkey-patch a JavaScript context to contain all EcmaScript 5 methods that can be faithfully emulated with a legacy JavaScript engine.</p>
<p><code>es5-sham.js</code> and <code>es5-sham.min.js</code> monkey-patch other ES5 methods as closely as possible. For these methods, as closely as possible to ES5 is not very close. Many of these shams are intended only to allow code to be written to ES5 without causing run-time errors in older engines. In many cases, this means that these shams cause many ES5 methods to silently fail. Decide carefully whether this is what you want.</p>
<h2>Tests</h2>
<p><a class="el" href="protocol_the-p.html">The</a> tests are written with the Jasmine BDD test framework. To run the tests, navigate to &lt;root-folder&gt;/tests/.</p>
<p>In order to run against the shim-code, the tests attempt to kill the current implementation of the missing methods. This happens in &lt;root-folder&gt;/tests/helpers/h-kill.js. So in order to run the tests against the build-in methods, invalidate that file somehow (comment-out, delete the file, delete the script-tag, etc.).</p>
<h2>Shims</h2>
<h3>Complete tests</h3>
<ul>
<li>Array.prototype.every</li>
<li>Array.prototype.filter</li>
<li>Array.prototype.forEach</li>
<li>Array.prototype.indexOf</li>
<li>Array.prototype.lastIndexOf</li>
<li>Array.prototype.map</li>
<li>Array.prototype.some</li>
<li>Array.prototype.reduce</li>
<li>Array.prototype.reduceRight</li>
<li>Array.isArray</li>
<li>Date.now</li>
<li>Date.prototype.toJSON</li>
<li>Function.prototype.bind<ul>
<li>/!\ Caveat: the bound function's length is always 0.</li>
<li>/!\ Caveat: the bound function has a prototype property.</li>
<li>/!\ Caveat: bound functions do not try too hard to keep you from manipulating their <code>arguments</code> and <code>caller</code> properties.</li>
<li>/!\ Caveat: bound functions don't have checks in <code>call</code> and <code>apply</code> to avoid executing as a constructor.</li>
</ul>
</li>
<li>Object.keys</li>
<li>String.prototype.trim</li>
</ul>
<h3>Untested</h3>
<ul>
<li>Date.parse (for ISO parsing)</li>
<li>Date.prototype.toISOString</li>
</ul>
<h2>Shams</h2>
<ul>
<li><p class="startli">/?\ Object.create</p>
<p class="startli">For the case of simply "begetting" an object that inherits prototypically from another, this should work fine across legacy engines.</p>
<p class="startli">/!\ Object.create(null) will work only in browsers that support prototype assignment. This creates an object that does not have any properties inherited from Object.prototype. It will silently fail otherwise.</p>
<p class="startli">/!\ <a class="el" href="protocol_the-p.html">The</a> second argument is passed to Object.defineProperties which will probably fail silently.</p>
</li>
<li><p class="startli">/?\ Object.getPrototypeOf</p>
<p class="startli">This will return "undefined" in some cases. It uses <b>proto</b> if it's available. Failing that, it uses constructor.prototype, which depends on the constructor property of the object's prototype having not been replaced. If your object was created like this, it won't work: </p><pre class="fragment">function Foo() {
}
Foo.prototype = {};
</pre><p class="startli">Because the prototype reassignment destroys the constructor property.</p>
<p class="startli">This will work for all objects that were created using <code>Object.create</code> implemented with this library.</p>
</li>
<li><p class="startli">/!\ Object.getOwnPropertyNames</p>
<p class="startli">This method uses Object.keys, so it will not be accurate on legacy engines.</p>
</li>
<li><p class="startli">Object.isSealed</p>
<p class="startli">Returns "false" in all legacy engines for all objects, which is conveniently guaranteed to be accurate.</p>
</li>
<li><p class="startli">Object.isFrozen</p>
<p class="startli">Returns "false" in all legacy engines for all objects, which is conveniently guaranteed to be accurate.</p>
</li>
<li><p class="startli">Object.isExtensible</p>
<p class="startli">Works like a charm, by trying very hard to extend the object then redacting the extension.</p>
</li>
</ul>
<h3>Fail silently</h3>
<ul>
<li><p class="startli">/!\ Object.getOwnPropertyDescriptor</p>
<p class="startli"><a class="el" href="protocol_the-p.html">The</a> behavior of this shim does not conform to ES5. It should probably not be used at this time, until its behavior has been reviewed and been confirmed to be useful in legacy engines.</p>
</li>
<li><p class="startli">/!\ Object.defineProperty</p>
<p class="startli">This method will silently fail to set "writable", "enumerable", and "configurable" properties.</p>
<p class="startli">Providing a getter or setter with "get" or "set" on a descriptor will silently fail on engines that lack "__defineGetter__" and "__defineSetter__", which include all versions of IE up to version 8 so far.</p>
<p class="startli">IE 8 provides a version of this method but it only works on DOM objects. Thus, the shim will not get installed and attempts to set "value" properties will fail silently on non-DOM objects.</p>
<p class="startli"><a href="https://github.com/kriskowal/es5-shim/issues#issue/5">https://github.com/kriskowal/es5-shim/issues#issue/5</a></p>
</li>
<li><p class="startli">/!\ Object.defineProperties</p>
<p class="startli">This uses the Object.defineProperty shim</p>
</li>
<li><p class="startli">Object.seal</p>
<p class="startli">Silently fails on all legacy engines. This should be fine unless you are depending on the safety and security provisions of this method, which you cannot possibly obtain in legacy engines.</p>
</li>
<li><p class="startli">Object.freeze</p>
<p class="startli">Silently fails on all legacy engines. This should be fine unless you are depending on the safety and security provisions of this method, which you cannot possibly obtain in legacy engines.</p>
</li>
<li><p class="startli">Object.preventExtensions</p>
<p class="startli">Silently fails on all legacy engines. This should be fine unless you are depending on the safety and security provisions of this method, which you cannot possibly obtain in legacy engines. </p>
</li>
</ul>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
