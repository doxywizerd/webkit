<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>webkit: htmltmpl.TemplateManager Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">webkit
   &#160;<span id="projectnumber">2cdf99a9e3038c7e01b3c37e8ad903ecbe5eecf1</span>
   </div>
   <div id="projectbrief">https://github.com/WebKit/webkit</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacehtmltmpl.html">htmltmpl</a></li><li class="navelem"><a class="el" href="classplanet_1_1htmltmpl_1_1_template_manager.html">TemplateManager</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classplanet_1_1htmltmpl_1_1_template_manager-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">htmltmpl.TemplateManager Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>CLASS: <a class="el" href="classplanet_1_1htmltmpl_1_1_template_manager.html" title="CLASS: TemplateManager #. ">TemplateManager</a> #.  
 <a href="classplanet_1_1htmltmpl_1_1_template_manager.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a33864abdd50569992ca9b1c47ff20b6c"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplanet_1_1htmltmpl_1_1_template_manager.html#a33864abdd50569992ca9b1c47ff20b6c">__init__</a> (self, <a class="el" href="_fetch_request_8idl.html#a5ebd3c4b429e6d09e632bcedbc5f931ca96ddd0ddd9a94a707cb6f094877fda0d">include</a>=1, max_include=5, precompile=1, comments=1, gettext=0, debug=0)</td></tr>
<tr class="separator:a33864abdd50569992ca9b1c47ff20b6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6c5af6e12080c80bf7cda4e3c69499f"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplanet_1_1htmltmpl_1_1_template_manager.html#ab6c5af6e12080c80bf7cda4e3c69499f">prepare</a> (self, <a class="el" href="voe__cmd__test_8cc.html#ad413ddc2d6eaa81db81c5fc175f59c12">file</a>)</td></tr>
<tr class="separator:ab6c5af6e12080c80bf7cda4e3c69499f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4ff70631ab6fec043d15c520c10b5e1"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplanet_1_1htmltmpl_1_1_template_manager.html#aa4ff70631ab6fec043d15c520c10b5e1">update</a> (self, template)</td></tr>
<tr class="separator:aa4ff70631ab6fec043d15c520c10b5e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a967be72cd26cee7be6843956aa2560f5"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplanet_1_1htmltmpl_1_1_template_manager.html#a967be72cd26cee7be6843956aa2560f5">DEB</a> (self, <a class="el" href="_source_2_third_party_2_a_n_g_l_e_2src_2compiler_2translator_2common_8h.html#a12b46aaf7a66b13c3c1b94c9d991c4ff">str</a>)</td></tr>
<tr class="memdesc:a967be72cd26cee7be6843956aa2560f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">PRIVATE METHODS #.  <a href="#a967be72cd26cee7be6843956aa2560f5">More...</a><br /></td></tr>
<tr class="separator:a967be72cd26cee7be6843956aa2560f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad47b29b339265a2da7265eaddde4a3a5"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplanet_1_1htmltmpl_1_1_template_manager.html#ad47b29b339265a2da7265eaddde4a3a5">lock_file</a> (self, <a class="el" href="voe__cmd__test_8cc.html#ad413ddc2d6eaa81db81c5fc175f59c12">file</a>, <a class="el" href="_tools_2_test_web_kit_a_p_i_2_tests_2_w_t_f_2_parking_lot_8cpp.html#a8ae9fdb10d60db487571238897882e2b">lock</a>)</td></tr>
<tr class="separator:ad47b29b339265a2da7265eaddde4a3a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a04b81c52647522369c0d0611ff2e9e"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplanet_1_1htmltmpl_1_1_template_manager.html#a4a04b81c52647522369c0d0611ff2e9e">compile</a> (self, <a class="el" href="voe__cmd__test_8cc.html#ad413ddc2d6eaa81db81c5fc175f59c12">file</a>)</td></tr>
<tr class="separator:a4a04b81c52647522369c0d0611ff2e9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a879fdf998270cdd8d792e28d32d7c3d4"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplanet_1_1htmltmpl_1_1_template_manager.html#a879fdf998270cdd8d792e28d32d7c3d4">is_precompiled</a> (self, <a class="el" href="voe__cmd__test_8cc.html#ad413ddc2d6eaa81db81c5fc175f59c12">file</a>)</td></tr>
<tr class="separator:a879fdf998270cdd8d792e28d32d7c3d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc900f13e746d5b480a28838365fd534"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplanet_1_1htmltmpl_1_1_template_manager.html#adc900f13e746d5b480a28838365fd534">load_precompiled</a> (self, <a class="el" href="voe__cmd__test_8cc.html#ad413ddc2d6eaa81db81c5fc175f59c12">file</a>)</td></tr>
<tr class="separator:adc900f13e746d5b480a28838365fd534"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab32db9d97d2b1a7e76280f7967517203"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplanet_1_1htmltmpl_1_1_template_manager.html#ab32db9d97d2b1a7e76280f7967517203">save_precompiled</a> (self, template)</td></tr>
<tr class="separator:ab32db9d97d2b1a7e76280f7967517203"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>CLASS: <a class="el" href="classplanet_1_1htmltmpl_1_1_template_manager.html" title="CLASS: TemplateManager #. ">TemplateManager</a> #. </p>
<pre class="fragment">Class that manages compilation and precompilation of templates.

     You should use this class whenever you work with templates
     that are stored in a file. The class can create a compiled
     template and transparently manage its precompilation. It also
     keeps the precompiled templates up-to-date by modification times
     comparisons. 
</pre> </div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a33864abdd50569992ca9b1c47ff20b6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33864abdd50569992ca9b1c47ff20b6c">&#9670;&nbsp;</a></span>__init__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def htmltmpl.TemplateManager.__init__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>include</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>max_include</em> = <code>5</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>precompile</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>comments</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>gettext</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>debug</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Constructor.

    @header
    __init__(include=1, max_include=5, precompile=1, comments=1,
     gettext=0, debug=0)
    
    @param include Enable or disable included templates.
    This optional parameter can be used to enable or disable
    &lt;em&gt;TMPL_INCLUDE&lt;/em&gt; inclusion of templates. Disabling of
    inclusion can improve performance a bit. The inclusion is
    enabled by default.
      
    @param max_include Maximum depth of nested inclusions.
    This optional parameter can be used to specify maximum depth of
    nested &lt;em&gt;TMPL_INCLUDE&lt;/em&gt; inclusions. It defaults to 5.
    This setting prevents infinite recursive inclusions.
    
    @param precompile Enable or disable precompilation of templates.
    This optional parameter can be used to enable or disable
    creation and usage of precompiled templates.
      
    A precompiled template is saved to the same directory in
    which the main template file is located. You need write
    permissions to that directory.

    Precompilation provides a significant performance boost because
    it's not necessary to parse the templates over and over again.
    The boost is especially noticeable when templates that include
    other templates are used.
    
    Comparison of modification times of the main template and all
    included templates is used to ensure that the precompiled
    templates are up-to-date. Templates are also recompiled if the
    htmltmpl module is updated.

    The &lt;em&gt;TemplateError&lt;/em&gt;exception is raised when the precompiled
    template cannot be saved. Precompilation is enabled by default.

    Precompilation is available only on UNIX and Windows platforms,
    because proper file locking which is necessary to ensure
    multitask safe behaviour is platform specific and is not
    implemented for other platforms. Attempts to enable precompilation
    on the other platforms result in raise of the
    &lt;em&gt;TemplateError&lt;/em&gt; exception.
    
    @param comments Enable or disable template comments.
    This optional parameter can be used to enable or disable
    template comments.
    Disabling of the comments can improve performance a bit.
    Comments are enabled by default.
    
    @param gettext Enable or disable gettext support.

    @param debug Enable or disable debugging messages.
    This optional parameter is a flag that can be used to enable
    or disable debugging messages which are printed to the standard
    error output. The debugging messages are disabled by default.
</pre> 
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a4a04b81c52647522369c0d0611ff2e9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a04b81c52647522369c0d0611ff2e9e">&#9670;&nbsp;</a></span>compile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def htmltmpl.TemplateManager.compile </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>file</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Compile the template.
    @hidden
</pre> 
</div>
</div>
<a id="a967be72cd26cee7be6843956aa2560f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a967be72cd26cee7be6843956aa2560f5">&#9670;&nbsp;</a></span>DEB()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def htmltmpl.TemplateManager.DEB </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>str</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>PRIVATE METHODS #. </p>
<pre class="fragment">Print debugging message to stderr if debugging is enabled. 
    @hidden
</pre> 
</div>
</div>
<a id="a879fdf998270cdd8d792e28d32d7c3d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a879fdf998270cdd8d792e28d32d7c3d4">&#9670;&nbsp;</a></span>is_precompiled()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def htmltmpl.TemplateManager.is_precompiled </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>file</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Return true if the template is already precompiled on the disk.
    This method doesn't check whether the compiled template is
    uptodate.
    @hidden
</pre> 
</div>
</div>
<a id="adc900f13e746d5b480a28838365fd534"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc900f13e746d5b480a28838365fd534">&#9670;&nbsp;</a></span>load_precompiled()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def htmltmpl.TemplateManager.load_precompiled </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>file</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Load precompiled template from disk.

    Remove the precompiled template file and recompile it
    if the file contains corrupted or unpicklable data.
    
    @hidden
</pre> 
</div>
</div>
<a id="ad47b29b339265a2da7265eaddde4a3a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad47b29b339265a2da7265eaddde4a3a5">&#9670;&nbsp;</a></span>lock_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def htmltmpl.TemplateManager.lock_file </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>lock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Provide platform independent file locking.
    @hidden
</pre> 
</div>
</div>
<a id="ab6c5af6e12080c80bf7cda4e3c69499f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6c5af6e12080c80bf7cda4e3c69499f">&#9670;&nbsp;</a></span>prepare()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def htmltmpl.TemplateManager.prepare </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>file</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Preprocess, parse, tokenize and compile the template.
    
    If precompilation is enabled then this method tries to load
    a precompiled form of the template from the same directory
    in which the template source file is located. If it succeeds,
    then it compares modification times stored in the precompiled
    form to modification times of source files of the template,
    including source files of all templates included via the
    &lt;em&gt;TMPL_INCLUDE&lt;/em&gt; statements. If any of the modification times
    differs, then the template is recompiled and the precompiled
    form updated.
    
    If precompilation is disabled, then this method parses and
    compiles the template.
    
    @header prepare(file)
    
    @return Compiled template.
    The methods returns an instance of the &lt;em&gt;Template&lt;/em&gt; class
    which is a compiled form of the template. This instance can be
    used as input for the &lt;em&gt;TemplateProcessor&lt;/em&gt;.
    
    @param file Path to the template file to prepare.
    The method looks for the template file in current directory
    if the parameter is a relative path. All included templates must
    be placed in subdirectory &lt;strong&gt;'inc'&lt;/strong&gt; of the 
    directory in which the main template file is located.
</pre> 
</div>
</div>
<a id="ab32db9d97d2b1a7e76280f7967517203"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab32db9d97d2b1a7e76280f7967517203">&#9670;&nbsp;</a></span>save_precompiled()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def htmltmpl.TemplateManager.save_precompiled </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>template</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Save compiled template to disk in precompiled form.
    
    Associated metadata is also saved. It includes: filename of the
    main template file, modification time of the main template file,
    modification times of all included templates and version of the
    htmltmpl module which compiled the template.
    
    The method removes a file which is saved only partially because
    of some error.
    
    @hidden
</pre> 
</div>
</div>
<a id="aa4ff70631ab6fec043d15c520c10b5e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4ff70631ab6fec043d15c520c10b5e1">&#9670;&nbsp;</a></span>update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def htmltmpl.TemplateManager.update </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>template</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Update (recompile) a compiled template.

    This method recompiles a template compiled from a file.
    If precompilation is enabled then the precompiled form saved on
    disk is also updated.
    
    @header update(template)
    
    @return Recompiled template.
    It's ensured that the returned template is up-to-date.
    
    @param template A compiled template.
    This parameter should be an instance of the &lt;em&gt;Template&lt;/em&gt;
    class, created either by the &lt;em&gt;TemplateManager&lt;/em&gt; or by the
    &lt;em&gt;TemplateCompiler&lt;/em&gt;. The instance must represent a template
    compiled from a file on disk.
</pre> 
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>Websites/planet.webkit.org/planet/planet/<a class="el" href="htmltmpl_8py.html">htmltmpl.py</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
